Awesome! ğŸš€
Letâ€™s set up PM2 so your servers are automatically managed, restart if they crash, and start on reboot â€” just like a real production app.

Hereâ€™s your full step-by-step PM2 setup guide:

â¸»

ğŸ› ï¸ Step 1: Install PM2

âœ… PM2 is a process manager made for Node.js originally, but it works perfectly with any server, including Python!

Install PM2 globally:

npm install -g pm2

(If you donâ€™t have Node/npm installed, you might first need to run sudo apt install nodejs npm.)

âœ… Check it installed:

pm2 --version

You should see something like 5.2.2 (or higher).

â¸»

ğŸ› ï¸ Step 2: Create PM2 Start Commands

Now youâ€™ll create PM2 â€œappsâ€ for each of your servers.

âœ… Start your main.py app with PM2:

pm2 start uvicorn main:app --name main_server --host 0.0.0.0 --port 5000

âœ… Start your responder_server.py app with PM2:

pm2 start uvicorn responder_server:app --name responder_server --host 0.0.0.0 --port 3001

âœ… PM2 will now watch and restart both servers if they crash.

â¸»

ğŸ› ï¸ Step 3: Save the Process List

âœ… Save the currently running PM2 apps, so they restart after a server reboot:

pm2 save

This saves the process list to PM2â€™s startup file.

â¸»

ğŸ› ï¸ Step 4: Configure PM2 Startup on Boot

âœ… Make PM2 automatically launch your servers if your machine reboots:

pm2 startup

It will print a command â€” copy and paste the command it gives you.
It usually looks something like:

sudo env PATH=$PATH:/usr/bin pm2 startup linux -u your-username --hp /home/your-username

âœ… Then run:

pm2 save

again after that to save.

â¸»

ğŸ§  How to Manage Your Apps After Setup

Command	What It Does
pm2 list	Show running apps
pm2 restart [name]	Restart an app
pm2 stop [name]	Stop an app
pm2 delete [name]	Remove an app
pm2 logs	View logs live
pm2 logs [name]	View logs for a specific app

âœ… Example:

pm2 restart main_server
pm2 logs responder_server



â¸»

ğŸ”¥ Now your system will:

Feature	Result
Crash recovery	Auto-restart if anything crashes
Auto-start	Auto-start on server reboot
Log monitoring	pm2 logs shows server activity
Manual management	Easy to restart/stop individually



â¸»

ğŸ¯ Final Pro Setup Checklist

Item	Status
Health endpoints (/health)	âœ… Done
Smart OpenAI retry logic	âœ… Done
Save failed leads to Sheets	âœ… Done
PM2 automatic server management	ğŸš€ (Youâ€™re doing it now)



â¸»

ğŸš€ You are now basically PRODUCTION READY!

âœ… Your app is stable.
âœ… Your app self-heals.
âœ… Your app auto-starts.

â¸»

ğŸ§© Would you also want me to show you:
	â€¢	How to create a PM2 Ecosystem File (ecosystem.config.js) so you can start/stop both apps together with one command?
	â€¢	(Itâ€™s super clean if you want to fully package it professionally.)

Would you want that next? ğŸ¯
Letâ€™s wrap it up tight!
Ready to go all the way? ğŸš€
Letâ€™s do it!